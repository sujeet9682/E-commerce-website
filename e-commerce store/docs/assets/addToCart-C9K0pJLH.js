import{g as d,s as S,u as C,p as P}from"./showToast-CNoD9Jdd.js";const q=(c,r)=>{let o=d().find(n=>n.id===c),a=1;return o&&(a=o.quantity,r=o.price),{quantity:a,price:r}},y=()=>{let c=document.querySelector(".productSubTotal"),r=document.querySelector(".productFinalTotal"),a=d().reduce((n,l)=>{let t=parseInt(l.price)||0;return n+t},0);c.textContent=`₹${a}`,r.textContent=`₹${a+50}`},f=(c,r,e,o)=>{const a=document.querySelector(`#card${r}`),n=a.querySelector(".productQuantity"),l=a.querySelector(".productPrice");let t=1,u=0,i=d(),m=i.find(s=>s.id===r);m?(t=Number(m.quantity),u=m.price):(u=o,o=o),c.target.className==="cartIncrement"&&(t<e?t+=1:t===e&&(t=e,u=o*e)),c.target.className==="cartDecrement"&&t>1&&(t-=1),u=o*t,u=Number(u.toFixed(2));let p={id:r,quantity:t,price:u};p=i.map(s=>s.id===r?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),n.innerText=t,l.innerText=u,y()},g=(c,r)=>{let e=d();e=e.filter(a=>a.id!==c),localStorage.setItem("cartProductLS",JSON.stringify(e));let o=document.getElementById(`card${c}`);o&&o.remove(),S("delete",c,r),C(e),y()};let x=d(),T=P.filter(c=>x.some(r=>r.id===c.id));const N=document.querySelector("#productCartTemplate"),E=document.querySelector("#productCartContainer"),b=()=>{T.forEach(c=>{const{category:r,id:e,image:o,name:a,price:n,stock:l}=c;let t=document.importNode(N.content,!0);const u=q(e,n);t.querySelector(".productQuantity").textContent=u.quantity,t.querySelector(".productPrice").textContent=u.price,t.querySelector("#cardValue").setAttribute("id",`card${e}`),t.querySelector(".category").textContent=r,t.querySelector(".productName").textContent=a,t.querySelector(".productImage").src=o,t.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(e,a)),t.querySelector(".stockElement").addEventListener("click",i=>{f(i,e,l,n)}),E.append(t)})};b();y();
